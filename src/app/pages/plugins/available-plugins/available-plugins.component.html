<mat-card-content class="plugin-info">
    <section *ngIf="engineerMode || isFreenas">
        <mat-label>{{ "Browse a Collection" | translate}}</mat-label>
        <mat-select [(ngModel)]="selectedBranch" (selectionChange)="switchBranch($event)">
            <mat-optgroup *ngFor="let branchIndex of availableBranches" [label]="branchIndex.name">
                <mat-option *ngFor="let branch of branchIndex.branches" [value]="branch.value">
                    {{branch.label}}
                </mat-option>
            </mat-optgroup>
        </mat-select>
    </section>
    <div fxLayout="row wrap" fxLayoutAlign="space-around center" *ngIf="selectedPlugin">
        <div fxFlex fxFlex.xs="100">
            <div>
                <img class="plugin-img" height="150" [src]="selectedPlugin.icon" alt="{{selectedPlugin.name}}" />
            </div>
        </div>
        <div fxFlex="40" fxFlexOffset="3" fxFlex.xs="100">
            <p class="plugin-description">{{selectedPlugin.description}}</p>
        </div>
        <div fxFlex="25" fxFlexOffset="3" fxFlex.xs="100">
            <div class="plugin-vinfo">
                <p *ngIf="isSelectedOffical">Official Plugin <mat-icon class="official-plugin">verified_user</mat-icon></p>
                <p>Version: {{selectedPlugin.revision}}</p>
                <p>Installed Instances: {{installedPlugins[selectedPlugin.plugin] || 0}}</p>
            </div>
            <button mat-flat-button id="plugin-install-button" (click)="install(selectedPlugin.plugin);">
                {{ "INSTALL" | translate }}
            </button>
        </div>
    </div>
</mat-card-content>
<mat-button-toggle-group class="plugin-buttons" [(ngModel)]='selectedPlugin'>
    <ng-container *ngFor="let plugin of plugins; let index">
        <mat-button-toggle [value]='plugin'>
            <figure>
                <img class="plugin-img" height="40" [src]="plugin.icon" alt="{{plugin.plugin}} icon" />
                <figcaption>{{plugin.name}}</figcaption>
            </figure>
        </mat-button-toggle>
    </ng-container>
</mat-button-toggle-group>